{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "title": "Blog Title", "subTitle": "Blog description", "avatarUrl": "https://github.githubassets.com/favicons/favicon.svg", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/li-jie-Python-de-zhuang-shi-qi.html", "labels": ["python"], "postTitle": "\u7406\u89e3Python\u7684\u88c5\u9970\u5668", "postUrl": "post/li-jie-Python-de-zhuang-shi-qi.html", "postSourceUrl": "https://github.com/niyoh120/niyoh120.github.io/issues/1", "commentNum": 0, "wordCount": 1758, "description": "\r\n```python\r\n@decorator\r\ndef foo():\r\n\tpass\r\n```\r\n\r\n\u5b9e\u9645\u4e0a\u7b49\u4e8e `foo=decorator(foo)` \r\n\r\n\u88c5\u9970\u5668\u7684\u8fd4\u56de\u503c\u5e94\u8be5\u662f\u4e00\u4e2a`callable`\r\n\r\n```python\r\ndef decorator(func):\r\n    def warp(*args,**kw):\r\n        print('in decorator')\r\n        return func(*args,*kw)\r\n    return warp\r\n\r\n@decorator\r\ndef foo():\r\n    print('in foo')\r\n\r\nfoo()\r\n\r\n# in decorator\r\n# in foo\r\n```\r\n\r\n`foo=decorator(foo)`\u6267\u884c\u4e8e`foo`\u7684\u5b9a\u4e49\u5b8c\u6210\u65f6\uff08python\u4e2d\u51fd\u6570\u5b9a\u4e49\u4e5f\u662f\u4e00\u79cd\u8bed\u53e5\uff09\r\n\r\n\u5229\u7528\u88c5\u9970\u5668\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5b9e\u73b0\u95ed\u5305\uff0c\u95ed\u5305\u53ef\u4ee5\u7406\u89e3\u4e3a\u5177\u6709\u4e0a\u4e0b\u6587\u7684\u51fd\u6570\r\n\r\n```python\r\ndef print_message(msg):\r\n    def closeure(func):\r\n        def wrap(*args, **kw):\r\n            print(msg)\r\n            return func(*args, **kw)\r\n\r\n        return wrap\r\n\r\n    return closeure\r\n\r\n@print_message('msg1')\r\ndef foo1():\r\n    pass\r\n\r\n@print_message('msg2')\r\ndef foo2():\r\n    pass\r\n\r\nfoo1() # msg1\r\nfoo2() # msg2\r\n```\r\n\r\n\u88c5\u9970\u5668\u53ef\u4ee5\u5d4c\u5957\uff0c\u6ce8\u610f\u6267\u884c\u987a\u5e8f\u662f\u88c5\u9970\u5668\u7684\u4f7f\u7528\u987a\u5e8f\r\n\r\n```python\r\ndef print_message(msg):\r\n    def closeure(func):\r\n        def wrap(*args, **kw):\r\n            print(msg)\r\n            return func(*args, **kw)\r\n\r\n        return wrap\r\n\r\n    return closeure\r\n\r\n@print_message('msg1')\r\n@print_message('msg2')\r\ndef foo1():\r\n    pass\r\n\r\n@print_message('msg2')\r\n@print_message('msg1')\r\ndef foo2():\r\n    pass\r\n\r\nfoo1()\r\n\r\n# msg1\r\n# msg2\r\n\r\nfoo2()\r\n\r\n# msg2\r\n# msg1\r\n```\r\n\r\n\u56e0\u4e3a\u88c5\u9970\u5668\u5b9e\u9645\u4e0a\u662f\u8bed\u6cd5\u7cd6\uff0c\u6240\u4ee5\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u88c5\u9970\u5668\u8fd4\u56de\u7684\u51fd\u6570\u5e76\u4e0d\u662f\u539f\u672c\u7684\u51fd\u6570\uff0c\u539f\u672c\u7684\u51fd\u6570\u7684\u4e00\u4e9b\u5c5e\u6027\uff08\u5982\u6587\u6863\u5b57\u7b26\u4e32\uff09\u53ef\u80fd\u4f1a\u4e22\u5931.\r\n\r\n\u89e3\u51b3\u65b9\u6cd5\u662f\u4f7f\u7528`functools.wraps`\uff0c\u5b83\u4f1a\u5c06\u539f\u6765\u51fd\u6570\u7684\u5c5e\u6027\u590d\u5236\u5230\u88c5\u9970\u5668\u8fd4\u56de\u7684\u51fd\u6570\u4e2d.\r\n\r\n```python\r\nfrom functools import wraps\r\n\r\ndef my_decorator(f):\r\n    @wraps(f)\r\n    def wrapper(*args, **kw):\r\n        print('Calling decorated function')\r\n        return f(*args, **kw)\r\n\r\n    return wrapper\r\n\r\n@my_decorator\r\ndef example():\r\n    '''Docstring'''\r\n    print('Called example function')\r\n\r\nexample()  # Calling decorated functionCalled example function\r\nexample.__name__  # 'example'\r\nexample.__doc__  # 'Docstring'\r\n```\r\n\u3002", "top": 0, "createdAt": 1718092732, "style": "", "script": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-06-11", "dateLabelColor": "#bc4c00"}, "P2": {"htmlDir": "docs/post/li-jie-Python-de-sheng-cheng-qi.html", "labels": ["python"], "postTitle": "\u7406\u89e3Python\u7684\u751f\u6210\u5668", "postUrl": "post/li-jie-Python-de-sheng-cheng-qi.html", "postSourceUrl": "https://github.com/niyoh120/niyoh120.github.io/issues/2", "commentNum": 0, "wordCount": 1144, "description": "\u5b9a\u4e49\u4e00\u4e2a\u751f\u6210\u5668\u7684\u65b9\u6cd5\r\n\r\n- \u5b9a\u4e49\u4e00\u4e2a\u542b\u6709`yield`\u8bed\u53e5\u7684\u51fd\u6570\r\n- \u5b9a\u4e49\u4e00\u4e2a\u5b9e\u73b0\u4e86`__iter___`\u65b9\u6cd5\uff08\u8fed\u4ee3\u5668\u534f\u8bae\uff09\uff0c\u65b9\u6cd5\u4e2d\u542b\u6709yield\u8bed\u53e5\u7684\u7c7b\r\n\r\n\u901a\u8fc7\u5185\u7f6e\u7684`next`\u51fd\u6570\u548c\u751f\u6210\u5668\u7684`send`\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8c03\u7528\u8005\u4e0e\u751f\u6210\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u548c\u63a7\u5236\u6d41\u8f6c\u79fb\r\n\r\n``` python\r\ndef gen():\r\n    print('in gen')\r\n    v = yield\r\n    print('recv {}'.format(v))\r\n    while True:\r\n        print('yield {}'.format(v + 100))\r\n        v = yield v + 100\r\n        print('recv {}'.format(v))\r\n\r\ng = gen()\r\nnext(g) # \u7b49\u4e8e\u8c03\u7528gen.send(None)\r\n# in gen\r\nv = g.send(1)\r\n# recv 1\r\n# yield 101\r\nprint(v)\r\n# 101\r\nv = g.send(2)\r\n# recv 2\r\n# yield 102\r\nprint(v)\r\n# 102\r\n\r\n```\r\n\r\n\u9996\u6b21\u8c03\u7528`next`\u51fd\u6570\u6216\u751f\u6210\u5668\u7684`send`\u65b9\u6cd5\u65f6\uff0c\u751f\u6210\u5668\u4f1a\u6267\u884c\u5230\u7b2c\u4e00\u4e2a`yield`\u8bed\u53e5\u5904\u7136\u540e\u8fd4\u56de\uff0c\u8fd4\u56de\u503c\u4e3a`yield`\u540e\u8ddf\u7684\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u6ce8\u610f\u9996\u6b21\u82e5\u662f\u8c03\u7528send\u65b9\u6cd5\uff0c\u5219\u4f20\u5165\u7684\u53c2\u6570\u5fc5\u987b\u662f`None`\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u5f02\u5e38`TypeError: can't send non-None value to a just-started generator`\u3002", "top": 0, "createdAt": 1718095077, "style": "", "script": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-06-11", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "python": "#06758D", "question": "#d876e3", "wontfix": "#ffffff"}, "displayTitle": "Blog Title", "faviconUrl": "https://github.githubassets.com/favicons/favicon.svg", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "homeUrl": "https://niyoh120.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}